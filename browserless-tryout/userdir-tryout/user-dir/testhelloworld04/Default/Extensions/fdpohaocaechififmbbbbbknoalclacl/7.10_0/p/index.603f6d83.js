function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequire60cc;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequire60cc=a),a.register("9tJY1",(function(e,t){function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a={accented:{prefix:"",postfix:"",map:{a:"È§",A:"È¦",b:"Æ€",B:"Æ",c:"Æˆ",C:"Æ‡",d:"á¸“",D:"á¸’",e:"á¸—",E:"á¸–",f:"Æ’",F:"Æ‘",g:"É ",G:"Æ“",h:"Ä§",H:"Ä¦",i:"Ä«",I:"Äª",j:"Äµ",J:"Ä´",k:"Ä·",K:"Ä¶",l:"Å€",L:"Ä¿",m:"á¸¿",M:"á¸¾",n:"Æž",N:"È ",o:"Ç¿",O:"Ç¾",p:"Æ¥",P:"Æ¤",q:"É‹",Q:"ÉŠ",r:"Å™",R:"Å˜",s:"ÅŸ",S:"Åž",t:"Å§",T:"Å¦",v:"á¹½",V:"á¹¼",u:"Å­",U:"Å¬",w:"áº‡",W:"áº†",x:"áº‹",X:"áºŠ",y:"áº",Y:"áºŽ",z:"áº‘",Z:"áº"},elongate:!0},bidi:{prefix:"â€®",postfix:"â€¬",map:{a:"É",A:"âˆ€",b:"q",B:"Ô",c:"É”",C:"â†ƒ",d:"p",D:"á—¡",e:"Ç",E:"ÆŽ",f:"ÉŸ",F:"â„²",g:"Æƒ",G:"â…",h:"É¥",H:"H",i:"Ä±",I:"I",j:"É¾",J:"Å¿",k:"Êž",K:"Ó¼",l:"Ê…",L:"â…‚",m:"É¯",M:"W",n:"u",N:"N",o:"o",O:"O",p:"d",P:"Ô€",q:"b",Q:"Ã’",r:"É¹",R:"á´š",s:"s",S:"S",t:"Ê‡",T:"âŠ¥",u:"n",U:"âˆ©",v:"ÊŒ",V:"É…",w:"Ê",W:"M",x:"x",X:"X",y:"ÊŽ",Y:"â…„",z:"z",Z:"Z"},elongate:!1}},o=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strategy,o=a[void 0===n?"accented":n],i="",l=r(e);try{for(l.s();!(t=l.n()).done;){var s=t.value;if(o.map[s]){var u=s.toLowerCase();!o.elongate||"a"!==u&&"e"!==u&&"o"!==u&&"u"!==u?i+=o.map[s]:i+=o.map[s]+o.map[s]}else i+=s}}catch(e){l.e(e)}finally{l.f()}return i.startsWith(o.prefix)&&i.endsWith(o.postfix)?i:o.prefix+i+o.postfix};e.exports.default=o}));var o,i=a("lSPyV"),l=a("aQWOf");function s(e,t){if(!e)throw new Error(t||"Assertion failed")}o=s,s.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var u=a("2xkva"),c=a("epmSf");const d=(...e)=>{e.splice(1,0,"color:#C70;background:#FED"),e[0]=`%c${e[0]}`,u.default.apply(u.default,e)};d("NODE_ENV","production",true),window._abr=()=>c.default.setObj({ab:{},login_data:{},has_logged_in:!1});class p{canRequestTest(){const e=l.DateTime.now().diff(this.waitUntil,"milliseconds").milliseconds;return d(`[canRequestTest] ${!this.hasUser} && ${!this.token} (${this.token}) && ${e} (${this.waitUntil.toLocaleString(l.DateTime.DATETIME_FULL)})`),!this.hasUser&&!this.token&&(e>=-1e3||"e9ce"!==this.curTest)}async save(){return c.default.set("ab",{...this._ab})}_validate(e){return e&&"object"==typeof e&&Object.entries(p._types).every((([t,r])=>null===e[t]||void 0===e[t]?p._nullables.has(t):typeof e[t]===r))}constructor(e,t){this._ab=e,this.hasUser=!(!t||!t.userId),this.isValid=!1,this.reqToken=null==e?void 0:e.reqToken,this.curTest=null==e?void 0:e.curTest,this.token=null,this.waitUntil=l.DateTime.now(),this.data={},this._validate(e)&&(this.isValid=!0,this.token=e.token||null,this.waitUntil=e.waitUntil&&e.waitUntil>0?l.DateTime.fromSeconds(e.waitUntil):l.DateTime.now().plus({years:100}),this.data=e.data||{}),this.showPremium=this.hasUser||this.data.showPremium}}(0,i.default)(p,"makeNeverState",((t,r,n)=>{const a=new p({reqToken:t,token:null,curTest:n,waitUntil:-1,data:null,ext:r});return e(o)(a.isValid,"Generated ABState is invalid!"),a})),(0,i.default)(p,"makeDelayState",((t,r)=>{const n=new p({reqToken:t,token:null,curTest:r,waitUntil:Math.floor(l.DateTime.now().plus({days:7}).toSeconds()),data:null});return e(o)(n.isValid,"Generated ABState is invalid!"),n})),(0,i.default)(p,"lookup",(async()=>{const e=await c.default.load();return new p(e.ab,e.login_data)})),(0,i.default)(p,"_types",{reqToken:"string",token:"string",waitUntil:"number",data:"object"}),(0,i.default)(p,"_nullables",new Set(["token","data"]));u=a("2xkva"),l=a("aQWOf");var f={},h={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","áº¤":"A","áº®":"A","áº²":"A","áº´":"A","áº¶":"A","Ã†":"AE","áº¦":"A","áº°":"A","È‚":"A","Ã‡":"C","á¸ˆ":"C","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","áº¾":"E","á¸–":"E","á»€":"E","á¸”":"E","á¸œ":"E","È†":"E","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","á¸®":"I","ÈŠ":"I","Ã":"D","Ã‘":"N","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","á»":"O","á¹Œ":"O","á¹’":"O","ÈŽ":"O","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã":"Y","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","áº¥":"a","áº¯":"a","áº³":"a","áºµ":"a","áº·":"a","Ã¦":"ae","áº§":"a","áº±":"a","Èƒ":"a","Ã§":"c","á¸‰":"c","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","áº¿":"e","á¸—":"e","á»":"e","á¸•":"e","á¸":"e","È‡":"e","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","á¸¯":"i","È‹":"i","Ã°":"d","Ã±":"n","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","á»‘":"o","á¹":"o","á¹“":"o","È":"o","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã½":"y","Ã¿":"y","Ä€":"A","Ä":"a","Ä‚":"A","Äƒ":"a","Ä„":"A","Ä…":"a","Ä†":"C","Ä‡":"c","Äˆ":"C","Ä‰":"c","ÄŠ":"C","Ä‹":"c","ÄŒ":"C","Ä":"c","CÌ†":"C","cÌ†":"c","ÄŽ":"D","Ä":"d","Ä":"D","Ä‘":"d","Ä’":"E","Ä“":"e","Ä”":"E","Ä•":"e","Ä–":"E","Ä—":"e","Ä˜":"E","Ä™":"e","Äš":"E","Ä›":"e","Äœ":"G","Ç´":"G","Ä":"g","Çµ":"g","Äž":"G","ÄŸ":"g","Ä ":"G","Ä¡":"g","Ä¢":"G","Ä£":"g","Ä¤":"H","Ä¥":"h","Ä¦":"H","Ä§":"h","á¸ª":"H","á¸«":"h","Ä¨":"I","Ä©":"i","Äª":"I","Ä«":"i","Ä¬":"I","Ä­":"i","Ä®":"I","Ä¯":"i","Ä°":"I","Ä±":"i","Ä²":"IJ","Ä³":"ij","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","á¸°":"K","á¸±":"k","KÌ†":"K","kÌ†":"k","Ä¹":"L","Äº":"l","Ä»":"L","Ä¼":"l","Ä½":"L","Ä¾":"l","Ä¿":"L","Å€":"l","Å":"l","Å‚":"l","á¸¾":"M","á¸¿":"m","MÌ†":"M","mÌ†":"m","Åƒ":"N","Å„":"n","Å…":"N","Å†":"n","Å‡":"N","Åˆ":"n","Å‰":"n","NÌ†":"N","nÌ†":"n","ÅŒ":"O","Å":"o","ÅŽ":"O","Å":"o","Å":"O","Å‘":"o","Å’":"OE","Å“":"oe","PÌ†":"P","pÌ†":"p","Å”":"R","Å•":"r","Å–":"R","Å—":"r","Å˜":"R","Å™":"r","RÌ†":"R","rÌ†":"r","È’":"R","È“":"r","Åš":"S","Å›":"s","Åœ":"S","Å":"s","Åž":"S","È˜":"S","È™":"s","ÅŸ":"s","Å ":"S","Å¡":"s","Å¢":"T","Å£":"t","È›":"t","Èš":"T","Å¤":"T","Å¥":"t","Å¦":"T","Å§":"t","TÌ†":"T","tÌ†":"t","Å¨":"U","Å©":"u","Åª":"U","Å«":"u","Å¬":"U","Å­":"u","Å®":"U","Å¯":"u","Å°":"U","Å±":"u","Å²":"U","Å³":"u","È–":"U","È—":"u","VÌ†":"V","vÌ†":"v","Å´":"W","Åµ":"w","áº‚":"W","áºƒ":"w","XÌ†":"X","xÌ†":"x","Å¶":"Y","Å·":"y","Å¸":"Y","YÌ†":"Y","yÌ†":"y","Å¹":"Z","Åº":"z","Å»":"Z","Å¼":"z","Å½":"Z","Å¾":"z","Å¿":"s","Æ’":"f","Æ ":"O","Æ¡":"o","Æ¯":"U","Æ°":"u","Ç":"A","ÇŽ":"a","Ç":"I","Ç":"i","Ç‘":"O","Ç’":"o","Ç“":"U","Ç”":"u","Ç•":"U","Ç–":"u","Ç—":"U","Ç˜":"u","Ç™":"U","Çš":"u","Ç›":"U","Çœ":"u","á»¨":"U","á»©":"u","á¹¸":"U","á¹¹":"u","Çº":"A","Ç»":"a","Ç¼":"AE","Ç½":"ae","Ç¾":"O","Ç¿":"o","Ãž":"TH","Ã¾":"th","á¹”":"P","á¹•":"p","á¹¤":"S","á¹¥":"s","XÌ":"X","xÌ":"x","Ðƒ":"Ð“","Ñ“":"Ð³","ÐŒ":"Ðš","Ñœ":"Ðº","AÌ‹":"A","aÌ‹":"a","EÌ‹":"E","eÌ‹":"e","IÌ‹":"I","iÌ‹":"i","Ç¸":"N","Ç¹":"n","á»’":"O","á»“":"o","á¹":"O","á¹‘":"o","á»ª":"U","á»«":"u","áº€":"W","áº":"w","á»²":"Y","á»³":"y","È€":"A","È":"a","È„":"E","È…":"e","Èˆ":"I","È‰":"i","ÈŒ":"O","È":"o","È":"R","È‘":"r","È”":"U","È•":"u","BÌŒ":"B","bÌŒ":"b","ÄŒÌ£":"C","ÄÌ£":"c","ÃŠÌŒ":"E","ÃªÌŒ":"e","FÌŒ":"F","fÌŒ":"f","Ç¦":"G","Ç§":"g","Èž":"H","ÈŸ":"h","JÌŒ":"J","Ç°":"j","Ç¨":"K","Ç©":"k","MÌŒ":"M","mÌŒ":"m","PÌŒ":"P","pÌŒ":"p","QÌŒ":"Q","qÌŒ":"q","Å˜Ì©":"R","Å™Ì©":"r","á¹¦":"S","á¹§":"s","VÌŒ":"V","vÌŒ":"v","WÌŒ":"W","wÌŒ":"w","XÌŒ":"X","xÌŒ":"x","YÌŒ":"Y","yÌŒ":"y","AÌ§":"A","aÌ§":"a","BÌ§":"B","bÌ§":"b","á¸":"D","á¸‘":"d","È¨":"E","È©":"e","ÆÌ§":"E","É›Ì§":"e","á¸¨":"H","á¸©":"h","IÌ§":"I","iÌ§":"i","Æ—Ì§":"I","É¨Ì§":"i","MÌ§":"M","mÌ§":"m","OÌ§":"O","oÌ§":"o","QÌ§":"Q","qÌ§":"q","UÌ§":"U","uÌ§":"u","XÌ§":"X","xÌ§":"x","ZÌ§":"Z","zÌ§":"z"},m=Object.keys(h).join("|"),y=new RegExp(m,"g"),g=new RegExp(m,""),v=function(e){return e.replace(y,(function(e){return h[e]}))};(f=v).has=function(e){return!!e.match(g)},f.remove=v;(0,(b=a("5dZ7N")).genLastErrorFmt)("ChromeExtensionError");var b=a("5dZ7N");(0,b.genLastErrorFmt)("ChromeDownloadsError");const w=(0,(b=a("5dZ7N")).genLastErrorFmt)("ChromePermissionsError"),E="downloads",A=(e,t)=>new Promise(((r,n)=>{const a=_(e,t);chrome.permissions.request(a,(e=>{const t=chrome.runtime.lastError;return t?n(w(t,"request")):r(e)}))})),T=(e,t)=>new Promise(((r,n)=>{const a=_(e,t);chrome.permissions.contains(a,(e=>{const t=chrome.runtime.lastError;return t?n(w(t,"contains")):r(e)}))})),k=()=>{return T(e=E,t).then((r=>!!r||A(e,t)));var e,t},x=e=>"string"==typeof e?[e]:e,_=(e,t)=>void 0===t&&"object"==typeof e?e:{permissions:e=x(e),origins:t=x(t)};u=a("2xkva");const S=()=>-1!==navigator.platform.toUpperCase().indexOf("MAC");l=a("aQWOf"),l=a("aQWOf");var U={};Object.defineProperty(U,"__esModule",{value:!0});var O={};O=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,r=String(e),n=r.length,a=-1,o="",i=r.charCodeAt(0);++a<n;)0!=(t=r.charCodeAt(a))?o+=t>=1&&t<=31||127==t||0==a&&t>=48&&t<=57||1==a&&t>=48&&t<=57&&45==i?"\\"+t.toString(16)+" ":0==a&&1==n&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+r.charAt(a):r.charAt(a):o+="ï¿½";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(void 0!==t?t:O);var I={};Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"localize",{enumerable:!0,get:function(){return N.default}}),I.default=void 0;var L,N=(L=a("9tJY1"))&&L.__esModule?L:{default:L};function D(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M,j,C,R,F,$,z=(M={blacklistedNodeNames:["STYLE"]},j=null,C={characterData:!0,childList:!0,subtree:!0},R=function(e){return e&&"string"==typeof e},F=function(e){var t,r=function(e){for(var t,r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(function(e){return/[^\s]/.test(e.nodeValue)?M.blacklistedNodeNames.includes(e.parentElement.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT})),n=[];t=r.nextNode();)n.push(t);return n}(e),n=D(r);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=a.nodeValue;R(o)&&(a.nodeValue=(0,N.default)(o,M))}}catch(e){n.e(e)}finally{n.f()}},$=function(e){var t,r=D(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("childList"===n.type&&n.addedNodes.length>0)j.disconnect(),n.addedNodes.forEach(F),j.observe(document.body,C);else if("characterData"===n.type){var a=n.target.nodeValue,o=M.blacklistedNodeNames.includes(n.target.parentElement.nodeName);R(a)&&!o&&(j.disconnect(),n.target.nodeValue=(0,N.default)(a,M),j.observe(document.body,C))}}}catch(e){r.e(e)}finally{r.f()}},{start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.strategy,r=void 0===t?"accented":t,n=e.blacklistedNodeNames,a=void 0===n?M.blacklistedNodeNames:n;M.blacklistedNodeNames=a,M.strategy=r,F(document.body),(j=new MutationObserver($)).observe(document.body,C)},stop:function(){j&&j.disconnect()},localize:N.default});I.default=z;var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.ATTR_NAME="data-e7n",q.FN_NAME="tr";var W={},H=W&&W.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function l(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))},G=W&&W.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(W,"__esModule",{value:!0}),W.normalize=function(e){return e.trim().replace(/[\s\-_]+/g,"_").replace(/[^A-Za-z0-9-]/g,"")},W.asKey=function(e){return"_"+W.normalize(e)},W.promiseSerialMap=function(e,t){return H(void 0,void 0,void 0,(function(){var r,n,a;return G(this,(function(o){return r=e.length,n=void 0===t,[2,(a=function(o,i){if(o>=r)return i;var l=n?e[o]():t(e[o]);return l&&"object"==typeof l&&l.then?l.then((function(e){return a(o+1,e)})):a(o+1,l)})(0,void 0)]}))}))},U.options={pseudoloc:!1,disabled:!1},U.tr=function(e,t,r,n,a){if(t=t||W.asKey(e),U.options.disabled)return V(e,r,n);var o=chrome.i18n.getMessage(t,r)||V(e,r,n);return U.options.pseudoloc&&(r&&n?(o=e.split(/(\$[A-Za-z][A-Za-z0-9_]*\$)/).map((function(e,t){return t%2==0?Y(e,a):e})).join(""),o=V(o,r,n)):o=Y(o,a)),o};var V=function(e,t,r){return t&&r&&e&&Object.entries(r).forEach((function(r){for(var n=r[0],a=r[1].content.split(/\$(\d+)/),o=1;o<a.length;o+=2){parseInt(a[o],10);a[o]=String(t[o-1])}e=e.replace(new RegExp("\\$"+n+"\\$","gi"),a.join(""))})),e};U.updateHtml=function(e,t){void 0===e&&(e=null),void 0===t&&(t=q.ATTR_NAME),(e=e||document).querySelectorAll("["+CSS.escape(t)+"]").forEach((function(e){U.updateElt(e,e.getAttribute(t)||void 0,t)}))},U.updateElt=function(e,t,r){void 0===r&&(r=q.ATTR_NAME);var n=e.getAttribute(r+"-html"),a=null!=n,o=(a?e.innerHTML:e.innerText).trim();t=t||W.asKey(o);var i=U.tr(o,t,void 0,void 0,a);i&&i!==o&&(a?e.innerHTML=i:e.textContent=i)};var Y=function(e,t){return t?Z(e).map((function(e){var t=e.type,r=e.content;return"html"===t?r:I.localize(r)})).join(""):I.localize(e)},Z=function(e){for(var t=[],r=0,n=0,a=!1,o=e.length,i=function(){n!==r&&t.push({type:a?"html":"text",content:e.substring(r,n)}),a=!a,r=n};n<o;n++){var l=e[n];if("<"===l){if(a)throw(s=new Error("Invalid HTML extra < character: "+e)).name="InvalidHTMLError",s;i()}else if(">"===l){var s;if(!a)throw(s=new Error("Invalid HTML extra > character: "+e)).name="InvalidHTMLError",s;i()}}return i(),t};U.options.disabled=!0;(0,U.tr)("URL & Browser"),(0,U.tr)("URL / Date");const X="DATE_FULL",B=[{title:"Date",format:l.DateTime.DATE_FULL,value:X},{title:"Date & time",format:l.DateTime.DATETIME_FULL,value:"DATETIME_FULL"},{title:"ISO",format:e=>e.minus({millisecond:e.millisecond}).toISO({suppressMilliseconds:!0}),value:"ISO"},{title:"None",format:e=>"",value:"NONE"}],J=(e,t)=>{if(e){const r=B.find((e=>e.value===t));if(r)return"function"==typeof r.format?r.format(e):e.toLocaleString(r.format)}return""};var Q=a("jmw9X");const K=e=>te(Q.LOGIN_URL,e),ee=e=>te(Q.PREMIUM_URL,e),te=(e,t)=>{t=t||window.location.pathname+(window.location.search||"")+(window.location.hash||"");const r=chrome.extension.getURL("/p/index.html")+"?"+ye([{key:"p",val:t}]);return`${e}?${ye([{key:"next",val:r}])}`};Q=a("jmw9X");const re={png:{key:"png",ext:".png",canvas:"image/png",jspdf:"PNG",capture:{format:"png",quality:100}},jpg:{key:"jpg",ext:".jpg",canvas:"image/jpeg",jspdf:"JPEG",capture:{format:"jpeg",quality:92}}};const ne=Object.values(re);var ae=a("dk7YQ");const oe=(e,t)=>new Promise((r=>r(typeof e===t))),ie=e=>oe(e,"boolean"),le=ne.map((e=>e.key)),se=(0,U.tr)("Capture"),ue=(0,U.tr)("PDF"),ce=(0,U.tr)("Download"),de="letter",pe=[{key:de,display:"US letter portrait"},{key:"letter-landscape",display:"US letter landscape"},{key:"legal",display:"US legal portrait"},{key:"legal-landscape",display:"US legal landscape"},{key:"a4",display:"A4 portrait"},{key:"a4-landscape",display:"A4 landscape"},{key:"full",display:(0,U.tr)("full image")}],fe=B.map((e=>({key:e.value,display:e.title}))),he=e=>{const t=J(l.DateTime.now(),e);return t?`\n\n${(0,U.tr)("Example:")} ${t}`:""};new(0,ae.default)("options",{fmt:{type:"choice",group:se,choices:le,default:"png",label:(0,U.tr)("Image format:"),help:(0,U.tr)("PNG is lossless and should match exactly what is seen on the screen, but will usually have larger file sizes than JPG, which uses compression.")},fixed_elts:{type:"bool",group:se,default:!0,label:`${(0,U.tr)("Adjust repeating elements")} (beta)`,hidden:!0,help:(0,U.tr)("Sometimes elements, like a â€œback to topâ€ button or a sticky footer will repeat on the page. This tries to position them absolutely to stop them from repeating in a screeshot.")},adv_scroll:{type:"bool",group:se,default:!0,label:`${(0,U.tr)("Advanced scrolling")} (beta)`,hidden:!0,help:(0,U.tr)("Look for an element within the page with its own scroll bars and scroll that item during the capture.")},pdf_format:{type:"choice",group:ue,choices:pe,default:de,label:(0,U.tr)("Paper size:"),help:(0,U.tr)("Specify the format size of PDFs for when exporting to PDF.")},pdf_smart_page:{type:"bool",group:ue,default:!0,label:`${(0,U.tr)("Smart page splitting (Premium)")} âš¡ï¸`,help:(0,U.tr)("Perform extra checks when splitting a PDF across multiple pages to try to prevent it from cutting lines of text in half. Otherwise, the screenshot is split at the paper size height regardless of its content."),premiumInfo:{text:"Prevent lines of text from getting split in half during export-to-PDF with smart page splitting.",cta1:"Upgrade your account",cta1LinkFn:()=>ee(),cta2:"login",cta2LinkFn:()=>K(),basicDefault:!1},disabled:!0},pdf_url_and_date:{type:"bool",group:ue,default:!1,label:`${(0,U.tr)("Add URL and date/time (Premium)")} âš¡ï¸`,help:(0,U.tr)("Add your screenshotâ€™s URL and capture date/time when exporting to PDF from the main view screenshot page. You can add URL and capture date in the Editor from the â€œMoreâ€ menu."),premiumInfo:{text:"Enable this feature by signing up for a premium account.",cta1:"Upgrade your account",cta1LinkFn:()=>ee(),cta2:"login",cta2LinkFn:()=>K(),basicDefault:!1},disabled:!0},pdf_date_fmt:{type:"choice",group:ue,choices:fe,default:X,label:`${(0,U.tr)("Date format (Premium)")}`,help:e=>`${(0,U.tr)("Display the capture date in this format or hide it entirely.")}${he(e)}`,hidden:(e,t)=>!(e&&t&&t.pdf_url_and_date)},pdf_insert_links:{type:"bool",group:ue,default:!1,label:`${(0,U.tr)("Active Links (Premium)")} âš¡ï¸ (beta)`,help:(0,U.tr)("Activate all the links on the page when downloading as a PDF. Clicking on the link in the PDF will open a page in your browser.\n\n**This is an experimental feature that is still in developmentâ€”please report any issues to customer support using the â€œReport issueâ€ flag icon above.**"),premiumInfo:{text:"Enable this feature by signing up for a premium account.",cta1:"Upgrade your account",cta1LinkFn:()=>ee(),cta2:"login",cta2LinkFn:()=>K(),basicDefault:!1},experimental:!0,disabled:!0},dir:{type:"text",group:ce,default:"",label:(0,U.tr)("Directory:"),help:(0,U.tr)("Specify a directory underneath your downloads directory to save your screenshots, such as â€œscreencapturesâ€. Defaults to the downloads directory if blank. (Please limit it to letters, numbers, dashes, underscores, and slashesâ€”invalid characters will automatically be removed)."),process:e=>{let t="";e=e.trim();const r=/^[A-Za-z]:[\/\\]/;return(r.test(e)||e.startsWith("../")||e.startsWith("/"))&&(t=(0,U.tr)("The browser prevents extensions from saving files outside of the default downloads directory. The path you entered has been updated accordingly. Sorry!")+" ðŸ˜Ÿ"),{val:e=e.replace(r,"").replace(/\\/g,"/").replace(/[^a-z0-9\-_\/ ]*/gi,"").replace(/\s+/g," ").replace(/\/\/+/g,"/").replace(/^\//,"").replace(/\/$/,"").trim(),msg:t}},validate:e=>(e=>oe(e,"string"))(e).then((t=>t&&(!e||k())))},save_as:{type:"bool",group:ce,default:!1,label:(0,U.tr)("Save as"),help:`${(0,U.tr)('Automatically show a "save as" dialog when downloading your screenshots. If the â€œAsk where to save each file before downloadingâ€ option is enabled in your browserâ€™s settings, then that takes priority.')}${S()&&Q.IS_CHROME?"\n\n"+(0,U.tr)('On Mac Chrome there are issues with "save as" for auto-download and when downloading multiple files, so it is disabled in those scenarios.'):""}`,validate:e=>ie(e)},auto_dl2:{type:"bool",group:ce,default:!1,label:(0,U.tr)("Auto-download files"),help:(0,U.tr)('Automatically download your screenshot as an image instead of opening it in a new window.This means the extension capture tab will not open. You can return back here by right-clicking on the extension and selecting "Options".'),validate:e=>ie(e).then((t=>t&&(!0!==e||k())))},fit_copies:{type:"bool",group:ce,default:!0,label:(0,U.tr)("Fit copies to Google Docs limits"),help:(0,U.tr)("When copying a screenshot to your clipboard, auto-resize it if it exceeds the Google Docs copy-paste limit (25,000,000 pixels). You may still experience issues pasting very large images into other applications, for example Google Docs sometimes truncates the image unless you resize it much smaller.")},frame_persist:{type:"bool",group:se,default:!0,label:(0,U.tr)("Persist iframe permissions"),help:(0,U.tr)("Save this permission (if accepted) for future captures. It can still be revoked later from the options page."),validate:e=>ie(e),hidden:!0}}),a("83PZf");const me=e=>{var t={};return(e||"").split("&").forEach((function(e){if(e){var r=e.split("=").map(decodeURIComponent);t[r.shift()]=r.join("=")}})),t},ye=e=>{const t=(e,t)=>t?null==e?"":`=${encodeURIComponent(e)}`:encodeURIComponent(e);return(Array.isArray(e)?e.map((({key:e,val:r})=>t(e)+t(r,!0))):Object.entries(e).map((([e,r])=>t(e)+t(r,!0)))).join("&")};var ge=a("4nbuO");const ve="/capture.html";window.setTimeout((()=>{const e=document.getElementsByTagName("h1")[0];e&&e.classList.add("show")}),2e3);const be=e=>e&&(e.startsWith("/")&&!e.startsWith("//")||e.startsWith(window.location.href.split("/").slice(0,3).join("/")+"/"));if(ge.default){document.getElementById("content");content.innerHTML="<h1>This page cannot be accessed inside an iframe</h1>"}else(async(e=!1)=>!0)().then((e=>{(0,u.default)("Prem?",e);let t=me(window.location.search.substring(1)).p;be(t)||((0,u.default)(`%cINVALID PATH: ${t}`,"color:purple"),t=ve),!e&&t.startsWith("/editor.html")&&((0,u.default)(`%cEDITOR NOT AVAILABLE: ${t}`,"color:purple"),t=ve),window.location.href=t})).catch((e=>{u.default.error(e)}));
//# sourceMappingURL=index.603f6d83.js.map
