(()=>{function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequire60cc;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequire60cc=o),o.register("9yaj5",(function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw i}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o={accented:{prefix:"",postfix:"",map:{a:"ȧ",A:"Ȧ",b:"ƀ",B:"Ɓ",c:"ƈ",C:"Ƈ",d:"ḓ",D:"Ḓ",e:"ḗ",E:"Ḗ",f:"ƒ",F:"Ƒ",g:"ɠ",G:"Ɠ",h:"ħ",H:"Ħ",i:"ī",I:"Ī",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"ŀ",L:"Ŀ",m:"ḿ",M:"Ḿ",n:"ƞ",N:"Ƞ",o:"ǿ",O:"Ǿ",p:"ƥ",P:"Ƥ",q:"ɋ",Q:"Ɋ",r:"ř",R:"Ř",s:"ş",S:"Ş",t:"ŧ",T:"Ŧ",v:"ṽ",V:"Ṽ",u:"ŭ",U:"Ŭ",w:"ẇ",W:"Ẇ",x:"ẋ",X:"Ẋ",y:"ẏ",Y:"Ẏ",z:"ẑ",Z:"Ẑ"},elongate:!0},bidi:{prefix:"‮",postfix:"‬",map:{a:"ɐ",A:"∀",b:"q",B:"Ԑ",c:"ɔ",C:"Ↄ",d:"p",D:"ᗡ",e:"ǝ",E:"Ǝ",f:"ɟ",F:"Ⅎ",g:"ƃ",G:"⅁",h:"ɥ",H:"H",i:"ı",I:"I",j:"ɾ",J:"ſ",k:"ʞ",K:"Ӽ",l:"ʅ",L:"⅂",m:"ɯ",M:"W",n:"u",N:"N",o:"o",O:"O",p:"d",P:"Ԁ",q:"b",Q:"Ò",r:"ɹ",R:"ᴚ",s:"s",S:"S",t:"ʇ",T:"⊥",u:"n",U:"∩",v:"ʌ",V:"Ʌ",w:"ʍ",W:"M",x:"x",X:"X",y:"ʎ",Y:"⅄",z:"z",Z:"Z"},elongate:!1}},a=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strategy,a=o[void 0===n?"accented":n],i="",s=r(e);try{for(s.s();!(t=s.n()).done;){var l=t.value;if(a.map[l]){var u=l.toLowerCase();!a.elongate||"a"!==u&&"e"!==u&&"o"!==u&&"u"!==u?i+=a.map[l]:i+=a.map[l]+a.map[l]}else i+=l}}catch(e){s.e(e)}finally{s.f()}return i.startsWith(a.prefix)&&i.endsWith(a.postfix)?i:a.prefix+i+a.postfix};e.exports.default=a}));var a=o("8rN6d"),i=o("iPbYd");i=o("iPbYd");function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){(0,i.default)(e,t,r[t])}))}return e}var l,u=o("ff4Ef"),c=o("8bPtr"),d=o("e0Kwl");function f(e,t){if(!e)throw new Error(t||"Assertion failed")}l=f,f.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var p=o("2z2pA"),h=o("fYpxg");const m=(...e)=>{e.splice(1,0,"color:#C70;background:#FED"),e[0]=`%c${e[0]}`,p.default.apply(p.default,e)};m("NODE_ENV","production",true),window._abr=()=>h.default.setObj({ab:{},login_data:{},has_logged_in:!1});const g=(y=(0,a.default)((function(e){return(0,c.__generator)(this,(function(e){return[2,!0]}))})),function(){return y.apply(this,arguments)});var y;class v{canRequestTest(){const e=d.DateTime.now().diff(this.waitUntil,"milliseconds").milliseconds;return m(`[canRequestTest] ${!this.hasUser} && ${!this.token} (${this.token}) && ${e} (${this.waitUntil.toLocaleString(d.DateTime.DATETIME_FULL)})`),!this.hasUser&&!this.token&&(e>=-1e3||"e9ce"!==this.curTest)}save(){var e=this;return(0,a.default)((function(){return(0,c.__generator)(this,(function(t){return[2,h.default.set("ab",s({},e._ab))]}))}))()}_validate(e){return e&&"object"==typeof e&&Object.entries(v._types).every((t=>{let r=(0,u.default)(t,2),n=r[0],o=r[1];return null===e[n]||void 0===e[n]?v._nullables.has(n):typeof e[n]===o}))}constructor(e,t){this._ab=e,this.hasUser=!(!t||!t.userId),this.isValid=!1,this.reqToken=null==e?void 0:e.reqToken,this.curTest=null==e?void 0:e.curTest,this.token=null,this.waitUntil=d.DateTime.now(),this.data={},this._validate(e)&&(this.isValid=!0,this.token=e.token||null,this.waitUntil=e.waitUntil&&e.waitUntil>0?d.DateTime.fromSeconds(e.waitUntil):d.DateTime.now().plus({years:100}),this.data=e.data||{}),this.showPremium=this.hasUser||this.data.showPremium}}(0,i.default)(v,"makeNeverState",((t,r,n)=>{const o=new v({reqToken:t,token:null,curTest:n,waitUntil:-1,data:null,ext:r});return e(l)(o.isValid,"Generated ABState is invalid!"),o})),(0,i.default)(v,"makeDelayState",((t,r)=>{const n=new v({reqToken:t,token:null,curTest:r,waitUntil:Math.floor(d.DateTime.now().plus({days:7}).toSeconds()),data:null});return e(l)(n.isValid,"Generated ABState is invalid!"),n})),(0,i.default)(v,"lookup",(0,a.default)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,h.default.load()];case 1:return e=t.sent(),[2,new v(e.ab,e.login_data)]}}))}))),(0,i.default)(v,"_types",{reqToken:"string",token:"string",waitUntil:"number",data:"object"}),(0,i.default)(v,"_nullables",new Set(["token","data"]));p=o("2z2pA"),a=o("8rN6d"),u=o("ff4Ef"),c=o("8bPtr"),d=o("e0Kwl");var b={},w={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z"},E=Object.keys(w).join("|"),A=new RegExp(E,"g"),_=new RegExp(E,""),k=function(e){return e.replace(A,(function(e){return w[e]}))};(b=k).has=function(e){return!!e.match(_)},b.remove=k;a=o("8rN6d"),c=o("8bPtr");const T=function(){var e=(0,a.default)((function(e,t){var r,n,o;return(0,c.__generator)(this,(function(a){return r=e.length,n=void 0===t,[2,(o=(a,i)=>{if(a>=r)return i;let s;return s=n?e[a]():t(e[a]),function(e){return e&&"object"==typeof e&&e.then&&"function"==typeof e.then}(s)?s.then((e=>o(a+1,e))):o(a+1,s)})(0,void 0)]}))}));return function(t,r){return e.apply(this,arguments)}}();const x=T;const S=(0,(U=o("3k2hL")).genLastErrorFmt)("ChromeExtensionError");var U=o("3k2hL");const I=(0,U.genLastErrorFmt)("ChromeDownloadsError"),O=(e,t,r,n)=>{let o=void 0!==n&&n;const a={url:e,conflictAction:chrome.downloads.FilenameConflictAction.UNIQUIFY};return(r||t)&&(r=r||e.split("/").pop(),t&&(r=`${t}/${r}`),a.filename=r),o&&(a.saveAs=!0),(e=>new Promise(((t,r)=>{chrome.downloads.download(e,(e=>{const n=chrome.runtime.lastError;return n?r(I(n,"download")):t(e)}))})))(a).then((e=>new Promise(((e,t)=>{chrome.extension.isAllowedIncognitoAccess((r=>{const n=chrome.runtime.lastError;return n?t(S(n,"isAllowedIncognitoAccess")):e(r)}))})).then((t=>{if(t)return(e=>new Promise(((t,r)=>{chrome.downloads.search(e,(e=>{const n=chrome.runtime.lastError;return n?r(I(n,"search")):t(e)}))})))({id:e}).then((e=>{const t=e[0];if(t&&"interrupted"===t.state&&"NETWORK_FAILED"===t.error){const e=new Error("Download encountered network failed error with allow incognito");throw e.name="AllowIncognitoNetworkError",e}}))})).then((()=>e))))},L=(e,t,r)=>{let n=void 0!==r&&r;const o=e.length;let a=0,i=0,s=[];const l=e.map((e=>"string"==typeof e?{url:e}:e));return x(l,(e=>O(e.url,t,e.filename,n).then((t=>{i+=1,s.push({url:e,id:t,success:!0})})).catch((t=>{a+=1,s.push({url:e,error:t,success:!1})})))).then((()=>{if(a&&a===o&&s.length&&!1===s[0].success){const e=s[0].error;throw e.message+=` (downloadAll: ${a} of ${o})`,e}return s}))};const P=(0,(U=o("3k2hL")).genLastErrorFmt)("ChromePermissionsError"),D="downloads",N=(e,t)=>new Promise(((r,n)=>{const o=R(e,t);chrome.permissions.request(o,(e=>{const t=chrome.runtime.lastError;return t?n(P(t,"request")):r(e)}))})),j=(e,t)=>new Promise(((r,n)=>{const o=R(e,t);chrome.permissions.contains(o,(e=>{const t=chrome.runtime.lastError;return t?n(P(t,"contains")):r(e)}))})),C=()=>{return j(e=D,t).then((r=>!!r||N(e,t)));var e,t},M=e=>"string"==typeof e?[e]:e,R=(e,t)=>void 0===t&&"object"==typeof e?e:{permissions:e=M(e),origins:t=M(t)};p=o("2z2pA");const F=()=>-1!==navigator.platform.toUpperCase().indexOf("MAC");d=o("e0Kwl"),d=o("e0Kwl");var $={};Object.defineProperty($,"__esModule",{value:!0});var z={};z=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,r=String(e),n=r.length,o=-1,a="",i=r.charCodeAt(0);++o<n;)0!=(t=r.charCodeAt(o))?a+=t>=1&&t<=31||127==t||0==o&&t>=48&&t<=57||1==o&&t>=48&&t<=57&&45==i?"\\"+t.toString(16)+" ":0==o&&1==n&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+r.charAt(o):r.charAt(o):a+="�";return a};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(void 0!==t?t:z);var q={};Object.defineProperty(q,"__esModule",{value:!0}),Object.defineProperty(q,"localize",{enumerable:!0,get:function(){return H.default}}),q.default=void 0;var W,H=(W=o("9yaj5"))&&W.__esModule?W:{default:W};function G(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y,K,B,X,Z,J,Q=(Y={blacklistedNodeNames:["STYLE"]},K=null,B={characterData:!0,childList:!0,subtree:!0},X=function(e){return e&&"string"==typeof e},Z=function(e){var t,r=function(e){for(var t,r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,(function(e){return/[^\s]/.test(e.nodeValue)?Y.blacklistedNodeNames.includes(e.parentElement.nodeName)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT})),n=[];t=r.nextNode();)n.push(t);return n}(e),n=G(r);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=o.nodeValue;X(a)&&(o.nodeValue=(0,H.default)(a,Y))}}catch(e){n.e(e)}finally{n.f()}},J=function(e){var t,r=G(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("childList"===n.type&&n.addedNodes.length>0)K.disconnect(),n.addedNodes.forEach(Z),K.observe(document.body,B);else if("characterData"===n.type){var o=n.target.nodeValue,a=Y.blacklistedNodeNames.includes(n.target.parentElement.nodeName);X(o)&&!a&&(K.disconnect(),n.target.nodeValue=(0,H.default)(o,Y),K.observe(document.body,B))}}}catch(e){r.e(e)}finally{r.f()}},{start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.strategy,r=void 0===t?"accented":t,n=e.blacklistedNodeNames,o=void 0===n?Y.blacklistedNodeNames:n;Y.blacklistedNodeNames=o,Y.strategy=r,Z(document.body),(K=new MutationObserver(J)).observe(document.body,B)},stop:function(){K&&K.disconnect()},localize:H.default}),ee=Q;q.default=ee;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.ATTR_NAME="data-e7n",te.FN_NAME="tr";var re={},ne=re&&re.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},oe=re&&re.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(re,"__esModule",{value:!0}),re.normalize=function(e){return e.trim().replace(/[\s\-_]+/g,"_").replace(/[^A-Za-z0-9-]/g,"")},re.asKey=function(e){return"_"+re.normalize(e)},re.promiseSerialMap=function(e,t){return ne(void 0,void 0,void 0,(function(){var r,n,o;return oe(this,(function(a){return r=e.length,n=void 0===t,[2,(o=function(a,i){if(a>=r)return i;var s=n?e[a]():t(e[a]);return s&&"object"==typeof s&&s.then?s.then((function(e){return o(a+1,e)})):o(a+1,s)})(0,void 0)]}))}))},$.options={pseudoloc:!1,disabled:!1},$.tr=function(e,t,r,n,o){if(t=t||re.asKey(e),$.options.disabled)return ae(e,r,n);var a=chrome.i18n.getMessage(t,r)||ae(e,r,n);return $.options.pseudoloc&&(r&&n?(a=e.split(/(\$[A-Za-z][A-Za-z0-9_]*\$)/).map((function(e,t){return t%2==0?ie(e,o):e})).join(""),a=ae(a,r,n)):a=ie(a,o)),a};var ae=function(e,t,r){return t&&r&&e&&Object.entries(r).forEach((function(r){for(var n=r[0],o=r[1].content.split(/\$(\d+)/),a=1;a<o.length;a+=2){parseInt(o[a],10);o[a]=String(t[a-1])}e=e.replace(new RegExp("\\$"+n+"\\$","gi"),o.join(""))})),e};$.updateHtml=function(e,t){void 0===e&&(e=null),void 0===t&&(t=te.ATTR_NAME),(e=e||document).querySelectorAll("["+CSS.escape(t)+"]").forEach((function(e){$.updateElt(e,e.getAttribute(t)||void 0,t)}))},$.updateElt=function(e,t,r){void 0===r&&(r=te.ATTR_NAME);var n=e.getAttribute(r+"-html"),o=null!=n,a=(o?e.innerHTML:e.innerText).trim();t=t||re.asKey(a);var i=$.tr(a,t,void 0,void 0,o);i&&i!==a&&(o?e.innerHTML=i:e.textContent=i)};var ie=function(e,t){return t?se(e).map((function(e){var t=e.type,r=e.content;return"html"===t?r:q.localize(r)})).join(""):q.localize(e)},se=function(e){for(var t=[],r=0,n=0,o=!1,a=e.length,i=function(){n!==r&&t.push({type:o?"html":"text",content:e.substring(r,n)}),o=!o,r=n};n<a;n++){var s=e[n];if("<"===s){if(o)throw(l=new Error("Invalid HTML extra < character: "+e)).name="InvalidHTMLError",l;i()}else if(">"===s){var l;if(!o)throw(l=new Error("Invalid HTML extra > character: "+e)).name="InvalidHTMLError",l;i()}}return i(),t};$.options.disabled=!0;(0,$.tr)("URL & Browser"),(0,$.tr)("URL / Date");const le="DATE_FULL",ue=[{title:"Date",format:d.DateTime.DATE_FULL,value:le},{title:"Date & time",format:d.DateTime.DATETIME_FULL,value:"DATETIME_FULL"},{title:"ISO",format:e=>e.minus({millisecond:e.millisecond}).toISO({suppressMilliseconds:!0}),value:"ISO"},{title:"None",format:e=>"",value:"NONE"}],ce=(e,t)=>{if(e){const r=ue.find((e=>e.value===t));if(r)return"function"==typeof r.format?r.format(e):e.toLocaleString(r.format)}return""};var de=o("8DwkQ");const fe=e=>he(de.LOGIN_URL,e),pe=e=>he(de.PREMIUM_URL,e),he=(e,t)=>{t=t||window.location.pathname+(window.location.search||"")+(window.location.hash||"");const r=chrome.extension.getURL("/p/index.html")+"?"+Oe([{key:"p",val:t}]);return`${e}?${Oe([{key:"next",val:r}])}`};de=o("8DwkQ");const me={png:{key:"png",ext:".png",canvas:"image/png",jspdf:"PNG",capture:{format:"png",quality:100}},jpg:{key:"jpg",ext:".jpg",canvas:"image/jpeg",jspdf:"JPEG",capture:{format:"jpeg",quality:92}}};const ge=Object.values(me);var ye=o("fiP9V");const ve=(e,t)=>new Promise((r=>r(typeof e===t))),be=e=>ve(e,"boolean"),we=ge.map((e=>e.key)),Ee=(0,$.tr)("Capture"),Ae=(0,$.tr)("PDF"),_e=(0,$.tr)("Download"),ke="letter",Te=[{key:ke,display:"US letter portrait"},{key:"letter-landscape",display:"US letter landscape"},{key:"legal",display:"US legal portrait"},{key:"legal-landscape",display:"US legal landscape"},{key:"a4",display:"A4 portrait"},{key:"a4-landscape",display:"A4 landscape"},{key:"full",display:(0,$.tr)("full image")}],xe=ue.map((e=>({key:e.value,display:e.title}))),Se=e=>{const t=ce(d.DateTime.now(),e);return t?`\n\n${(0,$.tr)("Example:")} ${t}`:""};var Ue=new(0,ye.default)("options",{fmt:{type:"choice",group:Ee,choices:we,default:"png",label:(0,$.tr)("Image format:"),help:(0,$.tr)("PNG is lossless and should match exactly what is seen on the screen, but will usually have larger file sizes than JPG, which uses compression.")},fixed_elts:{type:"bool",group:Ee,default:!0,label:`${(0,$.tr)("Adjust repeating elements")} (beta)`,hidden:!0,help:(0,$.tr)("Sometimes elements, like a “back to top” button or a sticky footer will repeat on the page. This tries to position them absolutely to stop them from repeating in a screeshot.")},adv_scroll:{type:"bool",group:Ee,default:!0,label:`${(0,$.tr)("Advanced scrolling")} (beta)`,hidden:!0,help:(0,$.tr)("Look for an element within the page with its own scroll bars and scroll that item during the capture.")},pdf_format:{type:"choice",group:Ae,choices:Te,default:ke,label:(0,$.tr)("Paper size:"),help:(0,$.tr)("Specify the format size of PDFs for when exporting to PDF.")},pdf_smart_page:{type:"bool",group:Ae,default:!0,label:`${(0,$.tr)("Smart page splitting (Premium)")} ⚡️`,help:(0,$.tr)("Perform extra checks when splitting a PDF across multiple pages to try to prevent it from cutting lines of text in half. Otherwise, the screenshot is split at the paper size height regardless of its content."),premiumInfo:{text:"Prevent lines of text from getting split in half during export-to-PDF with smart page splitting.",cta1:"Upgrade your account",cta1LinkFn:()=>pe(),cta2:"login",cta2LinkFn:()=>fe(),basicDefault:!1},disabled:!0},pdf_url_and_date:{type:"bool",group:Ae,default:!1,label:`${(0,$.tr)("Add URL and date/time (Premium)")} ⚡️`,help:(0,$.tr)("Add your screenshot’s URL and capture date/time when exporting to PDF from the main view screenshot page. You can add URL and capture date in the Editor from the “More” menu."),premiumInfo:{text:"Enable this feature by signing up for a premium account.",cta1:"Upgrade your account",cta1LinkFn:()=>pe(),cta2:"login",cta2LinkFn:()=>fe(),basicDefault:!1},disabled:!0},pdf_date_fmt:{type:"choice",group:Ae,choices:xe,default:le,label:`${(0,$.tr)("Date format (Premium)")}`,help:e=>`${(0,$.tr)("Display the capture date in this format or hide it entirely.")}${Se(e)}`,hidden:(e,t)=>!(e&&t&&t.pdf_url_and_date)},pdf_insert_links:{type:"bool",group:Ae,default:!1,label:`${(0,$.tr)("Active Links (Premium)")} ⚡️ (beta)`,help:(0,$.tr)("Activate all the links on the page when downloading as a PDF. Clicking on the link in the PDF will open a page in your browser.\n\n**This is an experimental feature that is still in development—please report any issues to customer support using the “Report issue” flag icon above.**"),premiumInfo:{text:"Enable this feature by signing up for a premium account.",cta1:"Upgrade your account",cta1LinkFn:()=>pe(),cta2:"login",cta2LinkFn:()=>fe(),basicDefault:!1},experimental:!0,disabled:!0},dir:{type:"text",group:_e,default:"",label:(0,$.tr)("Directory:"),help:(0,$.tr)("Specify a directory underneath your downloads directory to save your screenshots, such as “screencaptures”. Defaults to the downloads directory if blank. (Please limit it to letters, numbers, dashes, underscores, and slashes—invalid characters will automatically be removed)."),process:e=>{let t="";e=e.trim();const r=/^[A-Za-z]:[\/\\]/;return(r.test(e)||e.startsWith("../")||e.startsWith("/"))&&(t=(0,$.tr)("The browser prevents extensions from saving files outside of the default downloads directory. The path you entered has been updated accordingly. Sorry!")+" 😟"),{val:e=e.replace(r,"").replace(/\\/g,"/").replace(/[^a-z0-9\-_\/ ]*/gi,"").replace(/\s+/g," ").replace(/\/\/+/g,"/").replace(/^\//,"").replace(/\/$/,"").trim(),msg:t}},validate:e=>(e=>ve(e,"string"))(e).then((t=>t&&(!e||C())))},save_as:{type:"bool",group:_e,default:!1,label:(0,$.tr)("Save as"),help:`${(0,$.tr)('Automatically show a "save as" dialog when downloading your screenshots. If the “Ask where to save each file before downloading” option is enabled in your browser’s settings, then that takes priority.')}${F()&&de.IS_CHROME?"\n\n"+(0,$.tr)('On Mac Chrome there are issues with "save as" for auto-download and when downloading multiple files, so it is disabled in those scenarios.'):""}`,validate:e=>be(e)},auto_dl2:{type:"bool",group:_e,default:!1,label:(0,$.tr)("Auto-download files"),help:(0,$.tr)('Automatically download your screenshot as an image instead of opening it in a new window.This means the extension capture tab will not open. You can return back here by right-clicking on the extension and selecting "Options".'),validate:e=>be(e).then((t=>t&&(!0!==e||C())))},fit_copies:{type:"bool",group:_e,default:!0,label:(0,$.tr)("Fit copies to Google Docs limits"),help:(0,$.tr)("When copying a screenshot to your clipboard, auto-resize it if it exceeds the Google Docs copy-paste limit (25,000,000 pixels). You may still experience issues pasting very large images into other applications, for example Google Docs sometimes truncates the image unless you resize it much smaller.")},frame_persist:{type:"bool",group:Ee,default:!0,label:(0,$.tr)("Persist iframe permissions"),help:(0,$.tr)("Save this permission (if accepted) for future captures. It can still be revoked later from the options page."),validate:e=>be(e),hidden:!0}});o("dChev");const Ie=e=>{var t={};return(e||"").split("&").forEach((function(e){if(e){var r=e.split("=").map(decodeURIComponent);t[r.shift()]=r.join("=")}})),t},Oe=e=>{const t=(e,t)=>t?null==e?"":`=${encodeURIComponent(e)}`:encodeURIComponent(e),r=Array.isArray(e)?e.map((e=>{let r=e.key,n=e.val;return t(r)+t(n,!0)})):Object.entries(e).map((e=>{let r=(0,u.default)(e,2),n=r[0],o=r[1];return t(n)+t(o,!0)}));return r.join("&")};!function(){var e=(0,a.default)((function(e,t,r){var n,o,a,i,s,l,u,d;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=void 0!==t&&t,o=void 0!==r&&r,[4,j(D)];case 1:return(a=c.sent())?[4,Ue.load()]:[3,4];case 2:return i=c.sent(),s=(!F()||!(n||e.length>1))&&(o||i.save_as),[4,L(e,i.dir,s)];case 3:return l=c.sent(),u=l.reduce(((e,t)=>e+(!1===t.success?1:0)),0),d=l.length-u,[2,{hasPerms:a,results:l,failCount:u,successCount:d}];case 4:return[2,{hasPerms:a,results:e.map((e=>({url:e,success:!1})))}];case 5:return[2]}}))}))}();var Le=o("gI0WW");const Pe="/capture.html";window.setTimeout((()=>{const e=document.getElementsByTagName("h1")[0];e&&e.classList.add("show")}),2e3);const De=e=>e&&(e.startsWith("/")&&!e.startsWith("//")||e.startsWith(window.location.href.split("/").slice(0,3).join("/")+"/"));if(Le.default){document.getElementById("content");content.innerHTML="<h1>This page cannot be accessed inside an iframe</h1>"}else g().then((e=>{(0,p.default)("Prem?",e);let t=Ie(window.location.search.substring(1)).p;De(t)||((0,p.default)(`%cINVALID PATH: ${t}`,"color:purple"),t=Pe),!e&&t.startsWith("/editor.html")&&((0,p.default)(`%cEDITOR NOT AVAILABLE: ${t}`,"color:purple"),t=Pe),window.location.href=t})).catch((e=>{p.default.error(e)}))})();
//# sourceMappingURL=index.687bbdaa.js.map
